{"ast":null,"code":"var _jsxFileName = \"C:\\\\d\\\\date-a-base\\\\client\\\\src\\\\App.js\";\n// import React, { Component } from 'react';\nimport React, { Component, Fragment } from \"react\";\nimport User from './User.js';\nimport Login from './Login.js'; // import Home from './containers/Home.js'\n\nimport Routes from './HomeRoute.js'; // import Routes from \"../routes/\";\n\nimport './App.css';\nimport './Color.css';\nimport { Link, withRouter } from \"react-router-dom\";\nimport { Nav, Navbar, NavItem } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.userHasAuthenticated = (authenticated, userId, username) => {\n      console.log(userId);\n      console.log(username);\n      console.log(\"----------\");\n      this.setState({\n        isAuthenticated: authenticated,\n        userId: userId,\n        username: username\n      });\n      console.log(this.state);\n      console.log(\"---end of state---\");\n    };\n\n    this.logout = () => {\n      this.setState({\n        isAuthenticated: false,\n        userId: -1,\n        username: '',\n        isAdmin: false,\n        jwt: null\n      });\n    };\n\n    this.callBackendAPI = async () => {\n      const response = await fetch('/express_backend');\n      const body = await response.json();\n\n      if (response.status !== 200) {\n        throw Error(body.message);\n      }\n\n      return body;\n    };\n\n    this.handleLogout = event => {\n      this.logout();\n      this.props.history.push(\"/login\");\n    };\n\n    this.state = {\n      isAuthenticated: false,\n      isAdmin: false,\n      userId: -1,\n      username: '',\n      jwt: null\n    };\n  }\n\n  componentDidMount() {\n    // Call our fetch function below once the component mounts\n    this.callBackendAPI().then(res => this.setState({\n      data: res.express\n    })).catch(err => console.log(err));\n  } // Fetches our GET route from the Express server. (Note the route we are fetching matches the GET route from server.js\n\n\n  // render() {\n  //     const childProps = {\n  //       isAuthenticated: this.state.isAuthenticated,\n  //       userHasAuthenticated: this.userHasAuthenticated\n  //     };\n  //     return (\n  //         <div className=\"App\">\n  //             <header className=\"App-header\">\n  //                 <h1 className=\"App-title\">Date-a-base</h1>\n  //             </header>\n  //\n  //             <p className=\"App-intro\">{this.state.data}</p>\n  //             <Login />\n  //             <User myUserId={1}/>\n  //         </div>\n  //     );\n  // }\n  render() {\n    const childProps = {\n      isAuthenticated: this.state.isAuthenticated,\n      userHasAuthenticated: this.userHasAuthenticated,\n      myUserId: this.state.userId,\n      username: this.state.username,\n      isAdmin: this.state.isAdmin,\n      jwt: this.state.jwt\n    };\n    return React.createElement(\"div\", {\n      className: \"App container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      fluid: true,\n      collapseOnSelect: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Navbar.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Navbar.Brand, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      userId: this.state.userId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Date-a-base\")), React.createElement(Navbar.Toggle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(Navbar.Collapse, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Navbar.Collapse, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      pullRight: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, this.state.isAuthenticated ? React.createElement(NavItem, {\n      onClick: this.handleLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Logout\") : React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(LinkContainer, {\n      to: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(NavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Register\")), React.createElement(LinkContainer, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(NavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Login\"))))))), React.createElement(Routes, {\n      childProps: childProps,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }));\n  }\n\n} // export default App;\n\n\nexport default withRouter(App);","map":{"version":3,"sources":["C:\\d\\date-a-base\\client\\src\\App.js"],"names":["React","Component","Fragment","User","Login","Routes","Link","withRouter","Nav","Navbar","NavItem","LinkContainer","App","constructor","props","userHasAuthenticated","authenticated","userId","username","console","log","setState","isAuthenticated","state","logout","isAdmin","jwt","callBackendAPI","response","fetch","body","json","status","Error","message","handleLogout","event","history","push","componentDidMount","then","res","data","express","catch","err","render","childProps","myUserId"],"mappings":"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","sourcesContent":["// import React, { Component } from 'react';\r\nimport React, { Component, Fragment } from \"react\";\r\nimport User from './User.js';\r\nimport Login from './Login.js';\r\n// import Home from './containers/Home.js'\r\nimport Routes from './HomeRoute.js';\r\n\r\n// import Routes from \"../routes/\";\r\nimport './App.css'\r\nimport './Color.css'\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { Nav, Navbar, NavItem } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        isAuthenticated: false,\r\n        isAdmin: false,\r\n        userId: -1,\r\n        username: '',\r\n        jwt: null\r\n      };\r\n    }\r\n\r\n    userHasAuthenticated = (authenticated, userId, username) => {\r\n      console.log(userId);\r\n      console.log(username);\r\n      console.log(\"----------\")\r\n      this.setState({ isAuthenticated: authenticated, userId : userId, username : username });\r\n      console.log(this.state);\r\n      console.log(\"---end of state---\")\r\n    }\r\n\r\n    logout = () => {\r\n      this.setState({isAuthenticated : false, userId: -1, username: '', isAdmin: false, jwt: null});\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Call our fetch function below once the component mounts\r\n        this.callBackendAPI()\r\n            .then(res => this.setState({ data: res.express }))\r\n            .catch(err => console.log(err));\r\n    }\r\n    // Fetches our GET route from the Express server. (Note the route we are fetching matches the GET route from server.js\r\n    callBackendAPI = async () => {\r\n        const response = await fetch('/express_backend');\r\n        const body = await response.json();\r\n\r\n        if (response.status !== 200) {\r\n            throw Error(body.message)\r\n        }\r\n        return body;\r\n    };\r\n\r\n\r\n\r\n    handleLogout = event => {\r\n      this.logout();\r\n      this.props.history.push(\"/login\");\r\n    }\r\n\r\n    // render() {\r\n    //     const childProps = {\r\n    //       isAuthenticated: this.state.isAuthenticated,\r\n    //       userHasAuthenticated: this.userHasAuthenticated\r\n    //     };\r\n    //     return (\r\n    //         <div className=\"App\">\r\n    //             <header className=\"App-header\">\r\n    //                 <h1 className=\"App-title\">Date-a-base</h1>\r\n    //             </header>\r\n    //\r\n    //             <p className=\"App-intro\">{this.state.data}</p>\r\n    //             <Login />\r\n    //             <User myUserId={1}/>\r\n    //         </div>\r\n    //     );\r\n    // }\r\n\r\n    render() {\r\n    const childProps = {\r\n      isAuthenticated: this.state.isAuthenticated,\r\n      userHasAuthenticated: this.userHasAuthenticated,\r\n      myUserId: this.state.userId,\r\n      username: this.state.username,\r\n      isAdmin: this.state.isAdmin,\r\n      jwt: this.state.jwt\r\n    };\r\n    return (\r\n      <div className=\"App container\">\r\n        <Navbar fluid collapseOnSelect>\r\n          <Navbar.Header>\r\n            <Navbar.Brand>\r\n              <Link to=\"/\" userId={this.state.userId}>Date-a-base</Link>\r\n            </Navbar.Brand>\r\n            <Navbar.Toggle />\r\n          </Navbar.Header>\r\n          <Navbar.Collapse>\r\n          <Navbar.Collapse>\r\n          <Nav pullRight>\r\n            {this.state.isAuthenticated\r\n              ? <NavItem onClick={this.handleLogout}>Logout</NavItem>\r\n              : <Fragment>\r\n                  <LinkContainer to=\"/register\">\r\n                    <NavItem>Register</NavItem>\r\n                  </LinkContainer>\r\n                  <LinkContainer to=\"/login\">\r\n                    <NavItem>Login</NavItem>\r\n                  </LinkContainer>\r\n                </Fragment>\r\n            }\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n        </Navbar.Collapse>\r\n        </Navbar>\r\n        {/*<Home />*/}\r\n        <Routes childProps={childProps} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// export default App;\r\nexport default withRouter(App);\r\n"]},"metadata":{},"sourceType":"module"}